<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Darkknights by SudharakaP</title>
  </head>
  
  <div class="container">
  <body id="preview">
    <h2><a id="bank_0"></a>bank</h2>
    
    <pre><code>bank <span class="hljs-string">[-p &lt;port&gt;]</span> <span class="hljs-string">[-s &lt;auth-file&gt;]</span>
    </code></pre>
    
    <p><code>bank</code> is a server than simulates a bank, whose job is to keep track of the balance of its customers. It will receive communications from atm clients on the specified TCP port. Example interactions with <code>bank</code> and the <code>atm</code> are given at the bottom of the main page.</p>
    <p>On startup, <code>bank</code> will generate a <em>auth file</em> with the specified name. Existing <em>auth files</em> are not valid for new runs of <code>bank</code> – if the specified file already exists, <code>bank</code> should exit with return code 255. Once the <em>auth file</em> is written completely, <code>bank</code> prints “created” (followed by a newline) to stdout. <code>bank</code> will not change the auth file once “created” has been printed.</p>
    <p>If an invalid command-line option is provided, the <code>bank</code> program should exit with return value 255.</p>
    <p>After startup, <code>bank</code> will wait to receive transaction requests from clients; these transactions and how the <code>bank</code> should respond are described in the atm specification. After every transaction, <code>bank</code> prints a JSON-encoded summary of the transaction to stdout, followed by a newline (this summary is also described in the atm spec).</p>
    <p>The <code>bank</code> program will run and serve requests until it receives a SIGTERM signal, at which point it should exit cleanly. <code>bank</code> will continue running no matter what data its connected clients might send; i.e., invalid data from a client should not cause the server to exit and thereby deny access to other clients.</p>
    <p>The <code>bank</code> program will not write to any private files to keep state between multiple runs of the program.</p>
    <h2><a id="Options_16"></a>Options</h2>
    <p>There are two optional parameters. They can appear in any order. Any invocation of the <code>bank</code> that does not follow the command-line specification outlined above should result only with the return code of 255 from the <code>bank</code>. I.e., invocations with duplicated or non-specified parameters are considered an error.</p>
    <ul>
      <li>
        <p><code>-p &lt;port&gt;</code>: The port that bank should listen on. The default is 3000.</p>
      </li>
      <li>
        <p><code>-s &lt;auth-file&gt;</code>: The name of the auth file. If not supplied, defaults to “bank.auth”.</p>
      </li>
    </ul>
</body></div>
</html>
